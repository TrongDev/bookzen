{% extends "base.html" %}
{% block content %}
<div class="container has-text-centered">
    <h1 class="title">
        Bookzen
    </h1>
    <h2 class="subtitle">
        Find best price for your favorite books
    </h2>
    <form class="control" method="POST" action="/">
        <div class="columns is-mobile">
            <div class="column is-10-mobile is-offset-1-mobile is-8-desktop is-offset-2-desktop">
                {{ form.csrf_token }}
                {{ form.search(id="search", type="text", placeholder="Book name, keywords etc...", class="input is-primary is-medium") }}
            </div>
        </div>
        <div class="columns is-mobile">
            <div class="column is-2-desktop is-offset-5-desktop has-text-centered">
                <button class="button is-primary is-medium" type="submit">Search</button>
            </div>
        </div>
    </form>
</div>
<div class="columns">
    <div class="column is-12"></div>
</div>
<div class="container has-text-centered">
    <div class="columns is-multiline">
    {% for book in books %}
        <div class="column is-2 is-8-mobile is-offset-2-mobile">
            <div class="card">
              <div class="card-image">
                  <a href="{{ book.url }}" rel="nofollow" target="_blank">
                    <figure class="image is-square">
                        <img src="{{ book.image_uri }}" alt="">
                    </figure>
                </a>
              </div>
              <div class="card-content">
                <div class="media">
                  <div class="media-content">
                      <a href="{{ book.url }}" rel="nofollow" target="_blank">
                          <p class="title is-5">{{ book.name|truncate(65) }}</p>
                      </a>
                      <p class="subtitle is-6">{{ book.spider|title }} - {{ book.price }}</p>
                  </div>
                </div>
              </div>
            </div>
        </div>
    {% endfor %}
    </div>
</div>
{% endblock %}
